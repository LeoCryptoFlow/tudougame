# 加密货币量化交易系统 🚀

一个功能完整的加密货币量化交易系统，支持多种技术指标、交易策略和回测功能。

## ✨ 功能特性

### 📊 数据获取
- 从币安（Binance）交易所获取实时和历史数据
- 支持多种时间周期（1分钟、5分钟、1小时、1天等）
- 自动处理API限流

### 📈 技术指标
- **移动平均线 (MA)**: 7日、25日、50日、200日
- **指数移动平均线 (EMA)**: 12日、26日
- **相对强弱指标 (RSI)**: 超买超卖信号
- **MACD**: 趋势跟踪指标
- **布林带**: 波动率指标
- **随机震荡指标**: 动量指标
- **ATR**: 平均真实波幅
- **OBV**: 能量潮指标

### 🎯 交易策略
1. **MA交叉策略**: 短期均线与长期均线交叉
2. **RSI策略**: 基于超买超卖区间
3. **MACD策略**: MACD线与信号线交叉
4. **组合策略**: 多指标综合确认

### 📉 回测系统
- 完整的回测引擎
- 详细的性能指标（收益率、夏普比率、最大回撤、胜率等）
- 可视化图表（价格走势、组合价值、回撤分析）
- 交易记录追踪

## 🔧 安装

### 1. 克隆或下载项目

```bash
cd crypto-quant-trading
```

### 2. 安装依赖

使用虚拟环境（推荐）：

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

或直接安装：

```bash
pip install -r requirements.txt
```

## 📖 使用方法

### 查看帮助信息

```bash
python main.py --help
```

### 1. 查看市场信息

获取当前市场数据：

```bash
python main.py --mode info --symbol BTCUSDT
```

### 2. 运行回测

使用默认参数回测比特币：

```bash
python main.py --mode backtest --symbol BTCUSDT
```

自定义回测参数：

```bash
python main.py --mode backtest \
  --symbol ETHUSDT \
  --strategy combined \
  --start 2023-01-01 \
  --end 2024-12-31 \
  --capital 20000
```

### 3. 实时交易信号

获取当前交易建议：

```bash
python main.py --mode live --symbol BTCUSDT --strategy ma_crossover
```

## 🎮 命令行参数

| 参数 | 说明 | 默认值 | 可选值 |
|------|------|--------|--------|
| `--mode` | 运行模式 | `backtest` | `backtest`, `live`, `info` |
| `--symbol` | 交易对 | `BTCUSDT` | 任何币安交易对 |
| `--strategy` | 交易策略 | `ma_crossover` | `ma_crossover`, `rsi`, `macd`, `combined` |
| `--start` | 回测开始日期 | `2024-01-01` | YYYY-MM-DD格式 |
| `--end` | 回测结束日期 | 今天 | YYYY-MM-DD格式 |
| `--capital` | 初始资金 | `10000` | 任意数字 |

## 📊 策略说明

### MA交叉策略 (`ma_crossover`)
- **买入信号**: 7日均线上穿25日均线（金叉）
- **卖出信号**: 7日均线下穿25日均线（死叉）
- **适用场景**: 趋势明显的市场

### RSI策略 (`rsi`)
- **买入信号**: RSI < 30（超卖）
- **卖出信号**: RSI > 70（超买）
- **适用场景**: 震荡市场

### MACD策略 (`macd`)
- **买入信号**: MACD线上穿信号线
- **卖出信号**: MACD线下穿信号线
- **适用场景**: 趋势跟踪

### 组合策略 (`combined`)
- **买入信号**: MA金叉 + RSI < 70 + MACD看涨 + 价格>50日均线
- **卖出信号**: MA死叉 + RSI > 30 + MACD看跌 + 价格<50日均线
- **适用场景**: 高确信度交易，信号较少但质量高

## 📈 示例输出

```
==============================================================
🚀 加密货币量化交易系统
==============================================================

开始回测 BTCUSDT 从 2024-01-01 到 2024-12-31
成功获取 365 条历史数据

==============================================================
📊 回测结果
==============================================================
初始资金:        $10,000.00
最终价值:        $12,345.67
总收益:          $2,345.67
收益率:          23.46%
买入持有收益率:  18.50%
--------------------------------------------------------------
最大回撤:        -8.32%
夏普比率:        1.45
胜率:            65.00%
交易次数:        12
==============================================================
```

## 📁 项目结构

```
crypto-quant-trading/
├── main.py              # 主程序入口
├── data_fetcher.py      # 数据获取模块
├── indicators.py        # 技术指标计算
├── strategy.py          # 交易策略实现
├── backtester.py        # 回测系统
├── config.py            # 配置文件
├── requirements.txt     # 依赖包列表
└── README.md           # 说明文档
```

## ⚠️ 风险提示

1. **仅供学习使用**: 本系统仅供学习和研究量化交易使用
2. **不构成投资建议**: 所有策略和信号仅供参考，不构成任何投资建议
3. **历史表现≠未来收益**: 回测结果不代表实际交易表现
4. **交易有风险**: 加密货币市场波动大，交易需谨慎
5. **API限制**: 请遵守币安API使用规则，避免过度请求

## 🔒 安全提示

- 本系统不涉及实际交易，不需要API密钥
- 仅获取公开市场数据
- 不保存任何敏感信息

## 🛠️ 技术栈

- **Python 3.8+**
- **Pandas**: 数据处理
- **NumPy**: 数值计算
- **Matplotlib**: 数据可视化
- **Requests**: HTTP请求

## 📝 常见问题

### Q: 如何添加自己的策略？
A: 在 `strategy.py` 中添加新的策略方法，参考现有策略的实现方式。

### Q: 支持其他交易所吗？
A: 当前仅支持币安。可以修改 `data_fetcher.py` 适配其他交易所API。

### Q: 回测结果图表保存在哪里？
A: 图表自动保存在当前目录，文件名格式为 `backtest_results_YYYYMMDD_HHMMSS.png`

### Q: 可以实盘交易吗？
A: 当前版本仅支持模拟和回测，不支持实盘交易。如需实盘，需要接入交易所交易API。

## 🚀 未来计划

- [ ] 支持更多交易所（OKX、Bybit等）
- [ ] 添加机器学习策略
- [ ] 实时监控和告警功能
- [ ] Web界面
- [ ] 多币种组合策略
- [ ] 实盘交易模拟

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交问题和改进建议！

## 📧 联系方式

如有问题，请通过GitHub Issues联系。

---

**免责声明**: 本项目仅供学习研究使用，开发者不对使用本系统造成的任何损失负责。投资有风险，入市需谨慎！
